{% extends 'base.html' %}

{% block content %}

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Report </title>
	<meta name="description" content="">
	<meta name="keywords" content="">
	<link href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet">
	<link href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css" rel="stylesheet">




</head>

<body class="bg-gray-100 text-gray-900 tracking-wider leading-normal">


	<div class="container w-full md:w-4/5 xl:w-10/12  mx-auto px-2">

	


		<div id='recipients' class="p-8 mt-6 lg:mt-0 rounded shadow bg-white">
			<h1 class="text-center text-sm text-gray-400 font-light">Attendance Report</h1>

      {% if records %}
			<table id="example" class="stripe hover" style="width:100%; padding-top: 1em;  padding-bottom: 1em;">
				<thead>
					<tr>
            <th data-priority="1" class="px-4 py-2 font-bold">Name</th>
            <th data-priority="2" class="px-4 py-2 font-bold">Student ID</th>
            <th data-priority="3" class="px-4 py-2 font-bold">Reason</th>
            <th data-priority="4" class="px-4 py-2 font-bold">Check-in Time</th>
            <th data-priority="5" class="px-4 py-2 font-bold">Check-out Time</th>
					</tr>
				</thead>
				<tbody>
          {% for record in records %}
          <tr>
			<td class="px-4 py-2">{{ record[0] }}</td>
            <td class="px-4 py-2">{{ record[1] }}</td>
            <td class="px-4 py-2">{{ record[2] }}</td>
            <td class="px-4 py-2">{{ record[3] }}</td>
            <td class="px-4 py-2">{{ record[4] if record[4] else 'Not checked out' }}</td>
          </tr>
        {% endfor %}
				</tbody>

			</table>
      {% else %}
      <p>No records found.</p>
    {% endif %}


		</div>
		<!--/Card-->


	</div>
	<!--/container-->





	<!-- jQuery -->
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

	<!--Datatables -->
	<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
	<script>
		$(document).ready(function() {

			var table = $('#example').DataTable({
					responsive: true
				})
				.columns.adjust()
				.responsive.recalc();
		});
	</script>

</body>

{% endblock %}
